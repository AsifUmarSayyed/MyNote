{"ast":null,"code":"import { moveItemInArray, CdkDropList } from \"@angular/cdk/drag-drop\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/material/grid-list\";\nimport * as i6 from \"@angular/cdk/drag-drop\";\n\nfunction HomeComponent_mat_grid_tile_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"mat-grid-tile\");\n    i0.ɵɵelementStart(1, \"div\", 14);\n    i0.ɵɵelementStart(2, \"div\", 15);\n    i0.ɵɵlistener(\"cdkDragEntered\", function HomeComponent_mat_grid_tile_16_Template_div_cdkDragEntered_2_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.entered($event);\n    });\n    i0.ɵɵelementStart(3, \"div\", 16);\n    i0.ɵɵelementStart(4, \"h4\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 17);\n    i0.ɵɵelementStart(11, \"i\", 18);\n    i0.ɵɵlistener(\"click\", function HomeComponent_mat_grid_tile_16_Template_i_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const n_r2 = restoredCtx.$implicit;\n      const i_r3 = restoredCtx.index;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.save(n_r2, i_r3);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"i\", 19);\n    i0.ɵɵlistener(\"click\", function HomeComponent_mat_grid_tile_16_Template_i_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const i_r3 = restoredCtx.index;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.edit(i_r3);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"i\", 20);\n    i0.ɵɵlistener(\"click\", function HomeComponent_mat_grid_tile_16_Template_i_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const i_r3 = restoredCtx.index;\n      const n_r2 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.delete(i_r3, n_r2);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const n_r2 = ctx.$implicit;\n    const i_r3 = ctx.index;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"cdkDropListConnectedTo\", ctx_r0.drops)(\"cdkDropListData\", i_r3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleProp(\"background-color\", \"#fff\");\n    i0.ɵɵproperty(\"cdkDragData\", i_r3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", n_r2.title.substring(0, 5), \"...\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(n_r2.date);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", n_r2.note.substring(0, 8), \"...\");\n  }\n}\n\nfunction HomeComponent_div_17_ng_container_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵelementStart(2, \"th\", 24);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵelementStart(11, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_17_ng_container_19_Template_button_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const i_r11 = restoredCtx.index;\n      const s_r10 = restoredCtx.$implicit;\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return ctx_r12.uncompleted(i_r11, s_r10);\n    });\n    i0.ɵɵtext(12, \"-> \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵelementStart(14, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_17_ng_container_19_Template_button_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const i_r11 = restoredCtx.index;\n      const s_r10 = restoredCtx.$implicit;\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return ctx_r14.deletecomp(i_r11, s_r10);\n    });\n    i0.ɵɵtext(15, \"X \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const s_r10 = ctx.$implicit;\n    const i_r11 = ctx.index;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i_r11 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(s_r10.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(s_r10.date);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", s_r10.note.substring(0, 8), \"...\");\n  }\n}\n\nfunction HomeComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵelementStart(1, \"h4\");\n    i0.ɵɵtext(2, \"Completed Notes\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"table\", 22);\n    i0.ɵɵelementStart(4, \"thead\");\n    i0.ɵɵelementStart(5, \"tr\");\n    i0.ɵɵelementStart(6, \"th\", 23);\n    i0.ɵɵtext(7, \"id\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\", 23);\n    i0.ɵɵtext(9, \"Title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\", 23);\n    i0.ɵɵtext(11, \"Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\", 23);\n    i0.ɵɵtext(13, \"Note\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\", 23);\n    i0.ɵɵtext(15, \"uncompleted\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\", 23);\n    i0.ɵɵtext(17, \"Delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"tbody\");\n    i0.ɵɵtemplate(19, HomeComponent_div_17_ng_container_19_Template, 16, 4, \"ng-container\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(19);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.savenote);\n  }\n}\n\nexport let HomeComponent = /*#__PURE__*/(() => {\n  class HomeComponent {\n    constructor(datePipe, router, toastr) {\n      this.datePipe = datePipe;\n      this.router = router;\n      this.toastr = toastr;\n      this.note = [];\n      this.savenote = [];\n      this.count = 0;\n      this.isDisplay = false;\n      this.drops = [];\n    }\n\n    ngOnInit() {\n      if (localStorage.getItem(\"note\") != null) {\n        this.note = JSON.parse(localStorage.getItem(\"note\"));\n      }\n\n      let d = new Date();\n      this.datePipeString = this.datePipe.transform(d, 'yyyy-MM-dd');\n\n      for (let i = 0; i < this.note.length; i++) {\n        let a = new Date(this.note[i].currentDate);\n        var Time = d.getTime() - a.getTime();\n        var Days = Time / (1000 * 3600 * 24); //Diference in Days\n\n        if (Math.floor(Days) >= 7) {\n          this.note.splice(i, 1);\n          localStorage.setItem(\"note\", JSON.stringify(this.note));\n          this.toastr.error(\"Sucessfully deleted Reserved time completed!!!\", this.note[i].title);\n          console.log(\"hi\");\n        }\n      }\n\n      if (this.note.length == 0) {\n        this.router.navigate([\"default\"]);\n      }\n\n      if (localStorage.getItem(\"savenote\") != null) {\n        this.savenote = JSON.parse(localStorage.getItem(\"savenote\"));\n      }\n\n      this.count = this.savenote.length;\n    }\n\n    addNote() {\n      this.router.navigate([\"addNote\"]);\n    }\n\n    drop(event) {\n      moveItemInArray(this.note, event.previousIndex, event.currentIndex);\n      localStorage.setItem(\"note\", JSON.stringify(this.note));\n    }\n\n    entered($event) {\n      console.log($event.item.data, $event.container.data);\n      moveItemInArray(this.note, $event.item.data, $event.container.data);\n      localStorage.setItem(\"note\", JSON.stringify(this.note));\n    }\n\n    ngAfterViewInit() {\n      this.dropsQuery.changes.subscribe(() => {\n        this.drops = this.dropsQuery.toArray();\n      });\n      Promise.resolve().then(() => {\n        this.drops = this.dropsQuery.toArray();\n        console.log(this.drops);\n      });\n    }\n\n    edit(i) {\n      this.router.navigate([\"updateNote/\", i]);\n    }\n\n    delete(i, n) {\n      if (confirm(\"Are You Sure !!\")) {\n        this.note.splice(i, 1);\n        localStorage.setItem(\"note\", JSON.stringify(this.note));\n        this.toastr.error(\"Sucessfully deleted!!!\", n.title);\n\n        if (this.note.length == 0) {\n          this.router.navigate([\"default\"]);\n        }\n      } else {}\n    }\n\n    save(n, i) {\n      this.savenote.push(this.note[i]);\n      localStorage.setItem(\"savenote\", JSON.stringify(this.savenote));\n      this.count = this.savenote.length;\n      this.note.splice(i, 1);\n      localStorage.setItem(\"note\", JSON.stringify(this.note));\n      this.toastr.success(\"Sucessfully Completed!!!\", n.title);\n\n      if (this.note.length == 0) {\n        this.router.navigate([\"default\"]);\n      }\n    }\n\n    display() {\n      if (this.isDisplay == false) {\n        document.getElementById(\"completed\").style.cssText = `display: unset;`;\n        this.isDisplay = true;\n        document.getElementById(\"body\").style.cssText = `filter: blur(10px); pointer-events: none;`;\n      } else {\n        document.getElementById(\"completed\").style.cssText = `display: none;`;\n        this.isDisplay = false;\n        document.getElementById(\"body\").style.cssText = `filter: blur(0px);`;\n      }\n    }\n\n    deletecomp(i, s) {\n      if (confirm(\"Are You Sure !!\")) {\n        this.savenote.splice(i, 1);\n        localStorage.setItem(\"savenote\", JSON.stringify(this.savenote));\n        this.count = this.savenote.length;\n\n        if (this.count == 0) {\n          document.getElementById(\"body\").style.cssText = `filter: blur(0px);`;\n        }\n\n        this.toastr.error(\"Sucessfully deleted !!!\", s.title);\n      } else {}\n    }\n\n    search() {\n      if (this.title == '') {\n        this.ngOnInit();\n      } else {\n        this.note = this.note.filter(res => {\n          return res.title.toLocaleLowerCase().match(this.title.toLocaleLowerCase());\n        });\n      }\n    }\n\n    uncompleted(i, s) {\n      this.note.push(this.savenote[i]);\n      localStorage.setItem(\"note\", JSON.stringify(this.note));\n      this.savenote.splice(i, 1);\n      localStorage.setItem(\"savenote\", JSON.stringify(this.savenote));\n      this.toastr.success(\"Sucessfully Added List to be Completed!!!\", s.title);\n      this.count = this.savenote.length;\n\n      if (this.count == 0) {\n        document.getElementById(\"body\").style.cssText = `filter: blur(0px);`;\n      }\n\n      if (this.note.length == 0) {\n        this.router.navigate([\"default\"]);\n      }\n    }\n\n    sort(x) {\n      if (x.target.name == \"title\") {\n        this.note.sort((a, b) => a.title.localeCompare(b.title));\n      } else if (x.target.name == \"date\") {\n        this.note.sort((a, b) => a.date.localeCompare(b.date));\n      }\n\n      localStorage.setItem(\"note\", JSON.stringify(this.note));\n      console.log(this.note);\n    }\n\n  }\n\n  HomeComponent.ɵfac = function HomeComponent_Factory(t) {\n    return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.DatePipe), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.ToastrService));\n  };\n\n  HomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomeComponent,\n    selectors: [[\"app-home\"]],\n    viewQuery: function HomeComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(CdkDropList, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.dropsQuery = _t);\n      }\n    },\n    decls: 20,\n    vars: 4,\n    consts: [[\"id\", \"body\"], [1, \"navbar\", \"navbar-light\", \"bg-dark\"], [1, \"container-fluid\"], [1, \"navbar-brand\"], [\"type\", \"text\", \"required\", \"\", \"name\", \"title\", \"placeholder\", \"Search By Title\", 1, \"search\", 3, \"ngModel\", \"ngModelChange\"], [1, \"d-flex\"], [\"name\", \"title\", 1, \"btn\", \"btn-success\", 3, \"click\"], [\"name\", \"date\", 1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"container\"], [\"cols\", \"6\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"completed\", \"id\", \"completed\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"float\", 3, \"click\"], [\"cdkDropList\", \"\", 1, \"box\", 3, \"cdkDropListConnectedTo\", \"cdkDropListData\"], [\"cdkDrag\", \"\", 1, \"dashboard-card\", 3, \"cdkDragData\", \"cdkDragEntered\"], [1, \"internal\"], [1, \"icon\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-check-circle\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-pencil-square-o\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-trash\", 3, \"click\"], [\"id\", \"completed\", 1, \"completed\"], [1, \"table\"], [\"scope\", \"col\"], [\"scope\", \"row\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"btn\", \"btn-danger\", 3, \"click\"]],\n    template: function HomeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"nav\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"a\", 3);\n        i0.ɵɵtext(4, \"Note Taker\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"input\", 4);\n        i0.ɵɵlistener(\"ngModelChange\", function HomeComponent_Template_input_ngModelChange_5_listener($event) {\n          return ctx.title = $event;\n        })(\"ngModelChange\", function HomeComponent_Template_input_ngModelChange_5_listener() {\n          return ctx.search();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"form\", 5);\n        i0.ɵɵelementStart(7, \"button\", 6);\n        i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_7_listener($event) {\n          return ctx.sort($event);\n        });\n        i0.ɵɵtext(8, \"Sort By Title \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"button\", 7);\n        i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_9_listener($event) {\n          return ctx.sort($event);\n        });\n        i0.ɵɵtext(10, \"Sort By Date \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"form\", 5);\n        i0.ɵɵelementStart(12, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_12_listener() {\n          return ctx.addNote();\n        });\n        i0.ɵɵtext(13, \"Add New Note \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 9);\n        i0.ɵɵelementStart(15, \"mat-grid-list\", 10);\n        i0.ɵɵtemplate(16, HomeComponent_mat_grid_tile_16_Template, 14, 8, \"mat-grid-tile\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(17, HomeComponent_div_17_Template, 20, 1, \"div\", 12);\n        i0.ɵɵelementStart(18, \"button\", 13);\n        i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_18_listener() {\n          return ctx.display();\n        });\n        i0.ɵɵtext(19);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.title);\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngForOf\", ctx.note);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.count != 0);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" Completed (\", ctx.count, \") \");\n      }\n    },\n    directives: [i4.DefaultValueAccessor, i4.RequiredValidator, i4.NgControlStatus, i4.NgModel, i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.NgForm, i5.MatGridList, i1.NgForOf, i5.MatGridTile, i6.CdkDropList, i6.CdkDrag, i1.NgIf],\n    styles: [\"a[_ngcontent-%COMP%]{color:#fff}.navbar-brand[_ngcontent-%COMP%]{color:#fff;margin-left:120px}.navbar-brand[_ngcontent-%COMP%]:hover{color:#d1c519}h4[_ngcontent-%COMP%]{margin:10px;padding:0 20px}.container[_ngcontent-%COMP%]{margin:20px auto;justify-content:center;align-items:center}p[_ngcontent-%COMP%]{padding:0 20px}.icon[_ngcontent-%COMP%]{display:none;margin-left:40%;bottom:10%}.more-button[_ngcontent-%COMP%]{float:right;font-size:2em}.cdk-drop-list[_ngcontent-%COMP%]{height:100%;width:100%}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;opacity:.5}.cdk-drag-animating[_ngcontent-%COMP%]{transition:unset}.cdk-drag-placeholder[_ngcontent-%COMP%]{display:none}.internal[_ngcontent-%COMP%]{cursor:pointer;width:100%;padding:10px;border-radius:40px;background-color:#fff;border:2px solid #000;height:200px}.internal[_ngcontent-%COMP%]:hover{cursor:pointer!important;background-color:#e4e1e1}.internal[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{display:block}.check[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:10px}button[_ngcontent-%COMP%]{margin:auto}.mat-grid-tile-content[_ngcontent-%COMP%]{top:10;left:0;right:0;bottom:0;position:absolute;display:flex;height:100%;padding:0;margin:10px!important}.float[_ngcontent-%COMP%]{position:fixed;padding:10px;bottom:40px;left:90%;right:auto;background-color:#0c9;color:#000;border-radius:50px;text-align:center;box-shadow:2px 2px 3px #999}.completed[_ngcontent-%COMP%]{display:none;position:fixed;padding:20px;top:30%;bottom:auto;left:35%;border:2px solid #0C9;right:auto;background-color:#fff;color:#000;border-radius:20px;text-align:center}.row[_ngcontent-%COMP%]{margin:10px}span[_ngcontent-%COMP%]{padding:10px;margin:5px;text-align:center}i[_ngcontent-%COMP%]{border-radius:5px;font-size:30px;right:5px;margin:0 5px}i[_ngcontent-%COMP%]:hover{color:#0c9}.search[_ngcontent-%COMP%]{padding:5px 6px;border-radius:10px;border:none}.sortT[_ngcontent-%COMP%]{margin-right:10px!important}button[_ngcontent-%COMP%]{margin-right:20px}\"]\n  });\n  return HomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}